<div class="card">
    <div class="card-body">
        <h4 class="card-title">
            <button type="button" class="btn btn-primary" *ngIf="mode==='VIEW'" (click)="edit()">Edit</button>
            <button type="button" class="btn btn-success" [routerLink]="['/projects', projectId]">Show Project Details</button>
        </h4>
        <form class="form" [formGroup]="taskForm" *ngIf="taskForm">
            <div class="row">
                <div class="col-md-8">
                    <div class="form-group">
                        <label>Task Name</label>
                        <input formControlName="name" class="form-control" placeholder="">
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <input formControlName="description" class="form-control" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="">Assign To</label>
                        <select class="form-control" formControlName="assignee_id" name="" id="">
                            <option *ngFor="let user of users" [value]="user.id">{{user.username}}</option>
                        </select>

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="date" formControlName="startDate" class="form-control" placeholder="">
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="date" formControlName="endDate" class="form-control">
                    </div>
                </div>
                <div class="col-md-12">
                    <button type="submit" class="btn btn-primary" (click)="submit()"
                        *ngIf="mode !== 'VIEW'">Submit</button>
                    <button type="cancel" class="btn btn-dark" (click)="cancel()"
                        *ngIf="mode !== 'VIEW'">Cancel</button>
                </div>

            </div>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h4 class="card-title">Sub Tasks</h4>

        <div class="row">
            <div class="col-md-12 table-responsive">

                <table class="table table-striped table-inverse">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Sr No.</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let task of subTasks; let i=index">
                            <td scope="row">{{i+1}}</td>
                            <td>{{task.name}}</td>
                            <td>{{task.description}}</td>
                            <td>{{task.startDate | date}}</td>
                            <td>{{task.endDate | date}}</td>

                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>
</div>